<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <title>Title</title>
    <script src="/js/jquery-2.1.1.min.js"></script>

    <script src="/js/bootstrap-3.3.7-dist/js/bootstrap.js"></script>
    <link rel="stylesheet" href="/js/bootstrap-3.3.7-dist/css/bootstrap.css">
    <script src="/js/bootstrap-table/bootstrap-table.js"></script>
    <link rel="stylesheet" href="/js/bootstrap-table/bootstrap-table.css">
    <script src="/js/bootstrap-table/locale/bootstrap-table-zh-CN.js"></script>
    <script src="/js/bootstrap-bootbox/bootbox.js"></script>
    <script src="/layer/layer.js"></script>

</head>
<script type="text/javascript">
    $(function () {

        initTable();
    })

    //-----------------------------------------------------æŸ¥è¯¢å¼€å§‹
    function initTable() {

        $("#table").bootstrapTable({
           // url:'/getGoodsEvaluate',
            url:"http://192.168.101.22:5001/getGoodsEvaluate",
            striped: true,  //è¡¨æ ¼æ˜¾ç¤ºæ¡çº¹ï¼Œé»˜è®¤ä¸ºfalse
            toolbar: '#toolbar',  //æŠŠè¡¨å•å’Œè°ƒæŸ¥çš„éƒ¨åˆ†ç»“åˆåˆ°ä¸€èµ·
            pagination: true, // åœ¨è¡¨æ ¼åº•éƒ¨æ˜¾ç¤ºåˆ†é¡µç»„ä»¶ï¼Œé»˜è®¤false
            pageList: [1, 2, 3, 4, 5, 6, 8, 10], // è®¾ç½®é¡µé¢å¯ä»¥æ˜¾ç¤ºçš„æ•°æ®æ¡æ•°
            pageSize: 6, // é¡µé¢æ•°æ®æ¡æ•°
            pageNumber: 1, // é¦–é¡µé¡µç 
            clickToSelect: true, //æ˜¯å¦å¯ç”¨ç‚¹å‡»é€‰ä¸­è¡Œ
            sidePagination: 'server', // è®¾ç½®ä¸ºæœåŠ¡å™¨ç«¯åˆ†é¡µ(!!!!)
            //  search: true,     //æœç´¢æ¡†
            searchTimeOut: 2000,
            queryParams: function (params) { // è¯·æ±‚æœåŠ¡å™¨æ•°æ®æ—¶å‘é€çš„å‚æ•°ï¼Œå¯ä»¥åœ¨è¿™é‡Œæ·»åŠ é¢å¤–çš„æŸ¥è¯¢å‚æ•°ï¼Œè¿”å›falseåˆ™ç»ˆæ­¢è¯·æ±‚
                console.log(params)
                return { //è¿™é‡Œreturnå€¼å°±æ˜¯è¯·æ±‚ urlå±æ€§æ—¶æºå¸¦çš„å‚æ•°
                    pageSize: params.limit, // æ¯é¡µè¦æ˜¾ç¤ºçš„æ•°æ®æ¡æ•°
                    offset: params.offset, // æ¯é¡µæ˜¾ç¤ºæ•°æ®çš„å¼€å§‹è¡Œå·
                    // sear_name:params.search,  //è‡ªåŠ¨æœç´¢æ¡†
                    supplier:$("#supplier").val(), //è°ƒæŸ¥æ—¶å‘é€çš„å‚æ•°
                    datesta:$("#datesta").val(), //è°ƒæŸ¥æ—¶å‘é€çš„å‚æ•°
                    dateend:$("#dateend").val(), //è°ƒæŸ¥æ—¶å‘é€çš„å‚æ•°
                    //    state:$("input[type='radio']:checked").val(), //è°ƒæŸ¥æ—¶å‘é€çš„å‚æ•°

                }
            },
            columns:[
                {field:'fx',title:'fx',checkbox:true,align:'center',valign:'middle'},
                {field:'id',title:'id',align:'center',valign:'middle'},
                {field:'commddtiyName',title:'å•†å“åç§°',align:'center',valign:'middle'},
                {field:'supplier',title:'é‡‡è´­å•†',align:'center',valign:'middle'},
                {field:'serveEvaluate',title:'åˆ†é¡¹è¯„ä»·',align:'center',valign:'middle',formatter:function (value,row,index) {
                        var content="";
                        if(row.serveEvaluate==1){
                            content="â˜…  æœåŠ¡è¯„ä»·</br>";
                        }
                        if(row.serveEvaluate==2){
                            content="â˜…â˜…  æœåŠ¡è¯„ä»·</br>";
                        }
                        if(row.serveEvaluate==3){
                            content="â˜…â˜…â˜…  æœåŠ¡è¯„ä»·</br>";
                        }
                        if(row.serveEvaluate==4){
                            content="â˜…â˜…â˜…â˜…  æœåŠ¡è¯„ä»·</br>";
                        }
                        if(row.serveEvaluate==5){
                            content="â˜…â˜…â˜…â˜…â˜…  æœåŠ¡è¯„ä»·</br>";
                        }

                        if (row.qualityEvaluate==1)  content+="ğŸ’—  è´¨é‡è¯„ä»·</br>";
                        if (row.qualityEvaluate==2) content+="ğŸ’—ğŸ’—  è´¨é‡è¯„ä»·</br>";
                        if (row.qualityEvaluate==3) content+="ğŸ’—ğŸ’—ğŸ’—  è´¨é‡è¯„ä»·</br>";
                        if (row.qualityEvaluate==4) content+="ğŸ’—ğŸ’—ğŸ’—ğŸ’—  è´¨é‡è¯„ä»·</br>";
                        if (row.qualityEvaluate==5) content+="ğŸ’—ğŸ’—ğŸ’—ğŸ’—ğŸ’—  è´¨é‡è¯„ä»·</br>";

                        if (row.deliverEvaluate==1)  content+="ğŸ’—  å‘è´§è¯„ä»·";
                        if (row.deliverEvaluate==2) content+="ğŸ’—ğŸ’—  å‘è´§è¯„ä»·";
                        if (row.deliverEvaluate==3) content+="ğŸ’—ğŸ’—ğŸ’—  å‘è´§è¯„ä»·";
                        if (row.deliverEvaluate==4) content+="ğŸ’—ğŸ’—ğŸ’—ğŸ’—  å‘è´§è¯„ä»·";
                        if (row.deliverEvaluate==5) content+="ğŸ’—ğŸ’—ğŸ’—ğŸ’—ğŸ’—  å‘è´§è¯„ä»·";
                        return content;

                    }},

                /*
               {field:'deliverEvaluate',title:'å‘è´§è¯„ä»·',align:'center',valign:'middle',formatter:function (value,row,index) {
                       if (value==1) return "ğŸ’—";
                       if (value==2) return "ğŸ’—ğŸ’—";
                       if (value==3) return "ğŸ’—ğŸ’—ğŸ’—";
                       if (value==4) return "ğŸ’—ğŸ’—ğŸ’—ğŸ’—";
                       if (value==5) return "ğŸ’—ğŸ’—ğŸ’—ğŸ’—ğŸ’—";
                   }},*/
                {field:'comment',title:'è¯„ä»·ç•™è¨€',align:'center',valign:'middle'},


                /*    {field:'tdate',title:'æ—¶é—´',align:'center',valign:'middle'},*/
                {field:'evaluateTime',title:'è¯„ä»·æ—¥æœŸ',align:'center',valign:'middle',formatter:function(value,row,index){
                        return new Date(value).toLocaleDateString().replace(/\//g, "-") + " " + new Date(value).toTimeString().substr(0, 8)
                    }},
                {field:'grade',title:'ç»¼åˆè¯„åˆ†',align:'center',valign:'middle'},



            ],
            onLoadSuccess: function(){
                console.info("åŠ è½½æˆåŠŸ");
            },
            onLoadError: function(){
                console.info("åŠ è½½æ•°æ®å¤±è´¥");
            }
        });
    }
    //----------------------------------------------æŸ¥è¯¢ç»“æŸ
    //----------------------------æ¸…æ¥šè¡¨å•çš„æ•°æ®
    function cleate(){

        document.getElementById("savForm").reset();
    }
    //----------------------------æ¸…æ¥šè¡¨å•çš„æ•°æ®
</script>
<body>

<div id="toolbar">

    <form id="savForm">

        <div class="form-group">
            <label for="exampleInputEmail1">é‡‡è´­å•†</label>
            <input name="supplier " id="supplier" class="form-control"  placeholder="è¯·è¾“å…¥è®¢å•å·">
        </div>
        <div class="form-group">
            <label for="exampleInputEmail1">é€€è´§æ—¶é—´</label>
            <input name="datesta" id="datesta" class="form-control" type="date">
             ---	<input name="dateend" id="dateend" class="form-control"type="date">

        </div>
    </form>                <!-- $('#table').bootstrapTable('refresh')åˆ·æ–°é¡µé¢çš„æ—¶å€™,ä¼šæŠŠè°ƒæŸ¥çš„å‚æ•°ä¼ è¿‡å»   -->
    <button onclick="$('#table').bootstrapTable('refresh');" class="btn btn-success">æŸ¥è¯¢</button>
    <button onclick="cleate()" class="btn btn-success">é‡ç½®</button>
</div>
<table id="table"></table>
</body>
</html>