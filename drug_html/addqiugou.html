<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <title>Title</title>
</head>


<script type="text/javascript">
    $(function(){
        initTypeSelect(0,'tyida');
        initAreaSelect(0,'qya');

    })

    /**
     * 查询类型(三级联动)
     */
    $("#tyida").change(function(){
        var id = $(this).val();
        initTypeSelect(id,'tyidb')
    })


    $("#tyidb").change(function(){
        var ids = $(this).val();
        initTypeSelectQu(ids,'tyidc')
    })
    function initTypeSelect(pid,obj){
        $.ajax({
           // url:'/getDaugType',
            url:"http://192.168.101.22:5001/getDaugType",
            data:{
                pid:pid
            },
            dataType:'json',
            success:function(data){
                var html="<option value='-1'>请选择</option>";
                for(var i=0;i<data.length; i++){
                    html+="<option value='"+data[i].id+"'>"+data[i].name+"</option>";
                }
                $("#"+obj).html(html);
            },
            error:function(){
                alert("错误");
            }
        })
    }
    function initTypeSelectQu(pid,obj){
        $.ajax({
           // url:'/getDaugType',
            url:"http://192.168.101.22:5001/getDaugType",
            data:{
                pid:pid
            },
            dataType:'json',
            success:function(data){
                var html="<option value='-1'>请选择</option>";
                for(var i=0;i<data.length; i++){
                    html+="<option value='"+data[i].id+"'>"+data[i].name+"</option>";
                }
                $("#"+obj).html(html);
            },
            error:function(){
                alert("错误");
            }
        })
    }

    /**
     *  查询地区(三级联动)
     */
    $("#qya").change(function(){
        var id = $(this).val();
        initAreaSelect(id,'qyb')
    })
    $("#qyb").change(function(){
        var ids = $(this).val();
        initAreaSelectQu(ids,'qyc')
    })
    function initAreaSelect(pid,obj){
        $.ajax({
            //url:'/getRegionType',
            url:"http://192.168.101.22:5001/getRegionType",
           // type:'post',
            data:{
                id:pid
            },
            dataType:'json',
            success:function(data){
                var html="<option value='-1'>请选择</option>";
                for(var i=0;i<data.length; i++){
                    html+="<option value='"+data[i].id+"'>"+data[i].name+"</option>";
                }
                $("#"+obj).html(html);
            },
            error:function(){
                alert("错误");
            }
        })
    }

    function initAreaSelectQu(pid,obj){
        $.ajax({
           // url:'/getRegionType',
            url:"http://192.168.101.22:5001/getRegionType",
           // type:'post',
            data:{
                id:pid
            },
            dataType:'json',
            success:function(data){
                var html="<option value='-1'>请选择</option>";
                for(var i=0;i<data.length; i++){
                    html+="<option value='"+data[i].id+"'>"+data[i].name+"</option>";
                }
                $("#"+obj).html(html);
            },
            error:function(){
                alert("错误");
            }
        })
    }

</script>
<body>
<form id="form" style="width: 50%;">

    <div class="form-group">
        <label>产品名称:</label>
        <input name="commddtiyName" id="commddtiyName" class="form-control" placeholder="请输入产品名称">
    </div>
    <div class="form-group">
        <label>产品类型:</label>
        <select class="form-control" id="tyida" name="tyida"></select>
        <select class="form-control" id="tyidb" name="tyidb"></select>
        <select class="form-control" id="tyidc" name="tyidc"></select>
    </div>
    <div class="form-group">
        <label>生产厂家:</label>
        <input name="manufacturer" id="manufacturer" class="form-control" placeholder="请输入生产厂家">
    </div>
    <div class="form-group">
        <label>产品品牌:</label>
        <input name="commddtiyBrand" id="commddtiyBrand" class="form-control" placeholder="请输入产品品牌">
    </div>
    <div class="form-group">
        <label>求购区域:</label>
        <select class="form-control" id="qya" name="qya"></select>
        <select class="form-control" id="qyb" name="qyb"></select>
        <select class="form-control" id="qyc" name="qyc"></select>
    </div>
    <div class="form-group">
        <label>信息有效期:</label>
        <input name="validity" id="validity " class="form-control" placeholder="请输入信息有效期">
    </div>
    <div class="form-group">
        <label>需求简要描述:</label>
        <input name="describ" id="describ " class="form-control" placeholder="请输入需求简要描述">
    </div>

    <div class="form-group">
        <label>联系人:</label>
        <input name="linkman" id="linkman " class="form-control" placeholder="请输入联系人">
    </div>
    <div class="form-group">
        <label>联系电话:</label>
        <input name="phone" id="phone " class="form-control" placeholder="请输入联系电话" >
    </div>
    <div class="form-group">
        <label>联系地址:</label>
        <input name="site" id="site " class="form-control" placeholder="请输入联系地址" >
    </div>

</form>
</body>
</html>